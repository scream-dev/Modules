#           __..--''``---....___   _..._    __
# /// //_.-'    .-/";  `        ``<._  ``.''_ `. / // /
#///_.-' _..--.'_    \                    `( ) ) // //
#/ (_..-' // (< _     ;_..__               ; `' / ///
# / // // //  `-._,_)' // / ``--...____..-' /// / //
# üêà Module writed @ScreamDev 
# üëå Channel @ScreamModules

from yumlib import yummy

from .. import loader, utils

@loader.tds
class yg_sendmsg(loader.Module):
    """–ú–æ–¥—É–ª—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π —é–∑–µ—Ä–Ω–µ–π–º"""

    strings = {"name": "yg_sendmsg"}

    async def client_ready(self, client, db):
        await yummy(client)
    
    async def sendmsgcmd(self, message):
        """<username> <word> o—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π —é–∑–µ—Ä–Ω–µ–π–º"""
        args = utils.get_args(message)
        if len(args) < 2:
            await message.edit("<b>–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.</b> <i>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</i> <code>.sendmsg username word</code>")
            return
        username = args[0]
        word = " ".join(args[1:])
        await message.client.send_message(username, word)
        await message.edit(f"<b>–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å—é–¥–∞:</b> <code>{username}</code><b>, —Å–ª–æ–≤–æ:</b> <code>{word}</code>")
